
# 项目文件结构

```
chinese-learning-platform/
├── app/
│   ├── __init__.py
│   ├── api/
│   │   ├── __init__.py
│   │   ├── stories.py
│   │   ├── scenes.py
│   │   ├── words.py
│   │   └── utils.py
│   ├── models/
│   │   ├── __init__.py
│   │   ├── story.py
│   │   ├── scene.py
│   │   ├── word.py
│   │   └── base.py
│   ├── services/
│   │   ├── __init__.py
│   │   ├── story_service.py
│   │   ├── scene_service.py
│   │   ├── word_service.py
│   │   └── deepseek_service.py
│   ├── schemas/
│   │   ├── __init__.py
│   │   ├── story_schema.py
│   │   ├── scene_schema.py
│   │   ├── word_schema.py
│   │   └── base_schema.py
│   ├── utils/
│   │   ├── __init__.py
│   │   ├── json_storage.py
│   │   └── error_handling.py  # 新增的错误处理工具
│   └── config.py
├── tests/
│   ├── __init__.py
│   ├── test_stories.py
│   ├── test_scenes.py
│   ├── test_words.py
│   └── test_utils.py
├── data/
│   ├── words.json
│   ├── scenes.json
│   └── stories.json
├── scripts/
│   ├── __init__.py
│   ├── load_data.py
│   └── generate_stories.py
├── requirements.txt
├── Dockerfile
├── docker-compose.yml
├── README.md
└── .gitignore
```

### **新增文件说明**

#### **`error_handling.py`**
- **文件路径**：`app/utils/error_handling.py`
- **功能**：提供通用的错误处理函数，用于统一处理 API 路由中的错误。
- **代码**：
  ```python
  # filepath: app/utils/error_handling.py
  from flask import jsonify

  def handle_error(code, message):
      """通用错误处理函数"""
      return jsonify({
          "code": code,
          "message": message,
          "data": None,
      }), code
  ```

#### **`utils/__init__.py`**
- **文件路径**：`app/utils/__init__.py`
- **功能**：将 `error_handling.py` 和 `json_storage.py` 中的工具函数导出，便于其他模块调用。
- **代码**：
  ```python
  # filepath: app/utils/__init__.py
  from .json_storage import JSONStorage
  from .error_handling import handle_error

  __all__ = ["JSONStorage", "handle_error"]
  ```

